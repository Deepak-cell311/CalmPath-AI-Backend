{
  "id": "2170e0a8-ca94-4eaa-8068-1e399991b76a",
  "prevId": "89488b37-cc37-431d-ae7c-c027d6c4adf6",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "alerts_patient_id_patients_id_fk": {
          "name": "alerts_patient_id_patients_id_fk",
          "tableFrom": "alerts",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auth_sessions": {
      "name": "auth_sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_session_expire": {
          "name": "IDX_session_expire",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_message": {
          "name": "user_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "transcript": {
          "name": "transcript",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment": {
          "name": "sentiment",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "ai_response": {
          "name": "ai_response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intent": {
          "name": "intent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "redirection_type": {
          "name": "redirection_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conversations_session_id_sessions_id_fk": {
          "name": "conversations_session_id_sessions_id_fk",
          "tableFrom": "conversations",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "conversations_patient_id_patients_id_fk": {
          "name": "conversations_patient_id_patients_id_fk",
          "tableFrom": "conversations",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "conversations_staff_id_users_id_fk": {
          "name": "conversations_staff_id_users_id_fk",
          "tableFrom": "conversations",
          "tableTo": "users",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.emergency_events": {
      "name": "emergency_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "emergency_events_session_id_sessions_id_fk": {
          "name": "emergency_events_session_id_sessions_id_fk",
          "tableFrom": "emergency_events",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facilities": {
      "name": "facilities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "admin_email": {
          "name": "admin_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'basic'"
        },
        "monthly_price": {
          "name": "monthly_price",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "max_patients": {
          "name": "max_patients",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "promo_code": {
          "name": "promo_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_coupon_id": {
          "name": "stripe_coupon_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "tagline": {
          "name": "tagline",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "brand_color": {
          "name": "brand_color",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facility_invite_packages": {
      "name": "facility_invite_packages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "package_name": {
          "name": "package_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "invite_count": {
          "name": "invite_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price_in_cents": {
          "name": "price_in_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "facility_invite_packages_facility_id_facilities_id_fk": {
          "name": "facility_invite_packages_facility_id_facilities_id_fk",
          "tableFrom": "facility_invite_packages",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facility_invite_purchases": {
      "name": "facility_invite_purchases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "package_id": {
          "name": "package_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_session_id": {
          "name": "stripe_session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "total_paid_in_cents": {
          "name": "total_paid_in_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "invite_count": {
          "name": "invite_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "purchased_at": {
          "name": "purchased_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "facility_invite_purchases_facility_id_facilities_id_fk": {
          "name": "facility_invite_purchases_facility_id_facilities_id_fk",
          "tableFrom": "facility_invite_purchases",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "facility_invite_purchases_package_id_facility_invite_packages_id_fk": {
          "name": "facility_invite_purchases_package_id_facility_invite_packages_id_fk",
          "tableFrom": "facility_invite_purchases",
          "tableTo": "facility_invite_packages",
          "columnsFrom": [
            "package_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facility_invites": {
      "name": "facility_invites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "purchase_id": {
          "name": "purchase_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "invite_code": {
          "name": "invite_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "invited_email": {
          "name": "invited_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "invited_phone": {
          "name": "invited_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "invited_name": {
          "name": "invited_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'unused'"
        },
        "used_by_user_id": {
          "name": "used_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "facility_invites_facility_id_facilities_id_fk": {
          "name": "facility_invites_facility_id_facilities_id_fk",
          "tableFrom": "facility_invites",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "facility_invites_purchase_id_facility_invite_purchases_id_fk": {
          "name": "facility_invites_purchase_id_facility_invite_purchases_id_fk",
          "tableFrom": "facility_invites",
          "tableTo": "facility_invite_purchases",
          "columnsFrom": [
            "purchase_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "facility_invites_used_by_user_id_users_id_fk": {
          "name": "facility_invites_used_by_user_id_users_id_fk",
          "tableFrom": "facility_invites",
          "tableTo": "users",
          "columnsFrom": [
            "used_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "facility_invites_invite_code_unique": {
          "name": "facility_invites_invite_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "invite_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.medications": {
      "name": "medications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "dosage": {
          "name": "dosage",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "time": {
          "name": "time",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "medications_patient_id_patients_id_fk": {
          "name": "medications_patient_id_patients_id_fk",
          "tableFrom": "medications",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.memory_photos": {
      "name": "memory_photos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "photoname": {
          "name": "photoname",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context_and_story": {
          "name": "context_and_story",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file": {
          "name": "file",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "memory_photos_uploaded_by_users_id_fk": {
          "name": "memory_photos_uploaded_by_users_id_fk",
          "tableFrom": "memory_photos",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mood_logs": {
      "name": "mood_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "logged_by": {
          "name": "logged_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "mood_logs_patient_id_patients_id_fk": {
          "name": "mood_logs_patient_id_patients_id_fk",
          "tableFrom": "mood_logs",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patients": {
      "name": "patients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "age": {
          "name": "age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'ok'"
        },
        "room_number": {
          "name": "room_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "care_level": {
          "name": "care_level",
          "type": "care_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'low'"
        },
        "medical_notes": {
          "name": "medical_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_interaction": {
          "name": "last_interaction",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "admission_date": {
          "name": "admission_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "emergency_contact": {
          "name": "emergency_contact",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_phone": {
          "name": "emergency_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patients_facility_id_facilities_id_fk": {
          "name": "patients_facility_id_facilities_id_fk",
          "tableFrom": "patients",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patients_user_id_users_id_fk": {
          "name": "patients_user_id_users_id_fk",
          "tableFrom": "patients",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.personal_info": {
      "name": "personal_info",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "work": {
          "name": "work",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "family": {
          "name": "family",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hobbies": {
          "name": "hobbies",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "food": {
          "name": "food",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "other": {
          "name": "other",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "personal_info_patient_id_patients_id_fk": {
          "name": "personal_info_patient_id_patients_id_fk",
          "tableFrom": "personal_info",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "personal_info_created_by_users_id_fk": {
          "name": "personal_info_created_by_users_id_fk",
          "tableFrom": "personal_info",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reminders": {
      "name": "reminders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reminders_patient_id_patients_id_fk": {
          "name": "reminders_patient_id_patients_id_fk",
          "tableFrom": "reminders",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_count": {
          "name": "interaction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "calming_score": {
          "name": "calming_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff_notes": {
      "name": "staff_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "staff_notes_patient_id_patients_id_fk": {
          "name": "staff_notes_patient_id_patients_id_fk",
          "tableFrom": "staff_notes",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_notes_staff_id_users_id_fk": {
          "name": "staff_notes_staff_id_users_id_fk",
          "tableFrom": "staff_notes",
          "tableTo": "users",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.therapeutic_photos": {
      "name": "therapeutic_photos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "staff_id": {
          "name": "staff_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "transcript": {
          "name": "transcript",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment": {
          "name": "sentiment",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "therapeutic_photos_patient_id_patients_id_fk": {
          "name": "therapeutic_photos_patient_id_patients_id_fk",
          "tableFrom": "therapeutic_photos",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "therapeutic_photos_staff_id_users_id_fk": {
          "name": "therapeutic_photos_staff_id_users_id_fk",
          "tableFrom": "therapeutic_photos",
          "tableTo": "users",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "therapeutic_photos_uploaded_by_users_id_fk": {
          "name": "therapeutic_photos_uploaded_by_users_id_fk",
          "tableFrom": "therapeutic_photos",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "patient_id": {
          "name": "patient_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_sessions_user_id_users_id_fk": {
          "name": "user_sessions_user_id_users_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_sessions_patient_id_patients_id_fk": {
          "name": "user_sessions_patient_id_patients_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "patients",
          "columnsFrom": [
            "patient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_sessions_session_id_sessions_id_fk": {
          "name": "user_sessions_session_id_sessions_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "account_type": {
          "name": "account_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'Patient'"
        },
        "facility_id": {
          "name": "facility_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'patient'"
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'inactive'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "room_number": {
          "name": "room_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "care_level": {
          "name": "care_level",
          "type": "care_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'low'"
        },
        "medical_notes": {
          "name": "medical_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_interaction": {
          "name": "last_interaction",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "admission_date": {
          "name": "admission_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact": {
          "name": "emergency_contact",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_phone": {
          "name": "emergency_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "relation_to_patient": {
          "name": "relation_to_patient",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "patient_access_code": {
          "name": "patient_access_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "facility_staff_facility_id": {
          "name": "facility_staff_facility_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "used_invite_code": {
          "name": "used_invite_code",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_facility_id_facilities_id_fk": {
          "name": "users_facility_id_facilities_id_fk",
          "tableFrom": "users",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "users_facility_staff_facility_id_facilities_id_fk": {
          "name": "users_facility_staff_facility_id_facilities_id_fk",
          "tableFrom": "users",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_staff_facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_phone_number_unique": {
          "name": "users_phone_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "phone_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.care_level": {
      "name": "care_level",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "admin",
        "caregiver",
        "patient",
        "family"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}